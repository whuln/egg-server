(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffabbb52"],{3953:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("task-header",[e._v("我的用车")]),r("div",{staticClass:"tablecon"},[e.caruse?r("div",[r("mu-sub-header",[e._v("基本信息")]),r("div",[e._v("用车人："+e._s(e.caruse.user.name))]),r("div",[e._v("项目 ："+e._s(e.caruse.project))]),r("div",[e._v("用途："+e._s(e.caruse.purpose))]),r("div",[e._v("地点："+e._s(e.caruse.places))]),r("div",[e._v("计划出发日期："+e._s(e.caruse.plantime1))]),r("div",[e._v("计划回程日期："+e._s(e.caruse.plantime2))]),r("mu-sub-header",[e._v("审核信息")]),r("div",[e._v("部门主任："+e._s(e.caruse.isdmagree?"已批准":"未批准"))]),e.caruse.isshengwai?r("div",[e._v("主管领导："+e._s(e.caruse.yldagree?"已批准":"未批准")+"（省外）")]):e._e(),r("mu-sub-header",[e._v("分配信息")]),r("div",[e._v("车辆："+e._s(e.caruse.carnumber))]),r("div",[e._v("司机："+e._s(e.caruse.driver?e.caruse.driver.name:"")+"(电话："+e._s(e.caruse.driver?e.caruse.driver.phone:"")+")")]),r("mu-sub-header",[e._v("填写里程")]),r("div",[e._v("\n          起始读数：\n          "),r("mu-text-field",{model:{value:e.caruse.kilometres1,callback:function(t){e.$set(e.caruse,"kilometres1",t)},expression:"caruse.kilometres1"}},[e._v("公里")]),r("mu-button",{attrs:{small:"",color:"red"},on:{click:e.submitStart}},[e._v("提交")])],1),r("div",[e._v("\n          终止读数：\n          "),r("mu-text-field",{model:{value:e.caruse.kilometres2,callback:function(t){e.$set(e.caruse,"kilometres2",t)},expression:"caruse.kilometres2"}},[e._v("公里")]),r("mu-button",{attrs:{small:"",color:"red"},on:{click:e.submitOver}},[e._v("提交")])],1)],1):r("div",[e._v("您当前没有用车")])])],1)},a=[],c=(r("96cf"),r("3b8d")),n=r("cebc"),u=r("2f62"),i=r("dd88"),o=r("7422"),l={name:"MyUse",components:{TaskHeader:o["a"]},data:function(){return{caruse:null}},computed:Object(n["a"])({},Object(u["d"])(["userinfo","r"])),methods:{submitStart:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.caruse.kilometres1){e.next=3;break}return this.$alert("请填写里程"),e.abrupt("return");case 3:return e.next=5,this.$confirm("确定出发？","提示");case 5:if(t=e.sent,!t.result){e.next=19;break}return e.prev=7,e.next=10,this.r.post("upsert_ucf",{id:this.caruse.id,kilometres1:this.caruse.kilometres1});case 10:r=e.sent,0==r.data.code?i["a"].success("里程添加成功"):i["a"].error("里程添加失败"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),i["a"].error("里程添加失败");case 17:e.next=20;break;case 19:i["a"].info("点击了取消");case 20:case"end":return e.stop()}},e,this,[[7,14]])}));function t(){return e.apply(this,arguments)}return t}(),submitOver:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.caruse.kilometres2){e.next=3;break}return this.$alert("请填写里程"),e.abrupt("return");case 3:return e.next=5,this.$confirm("确定已返回？","提示");case 5:if(t=e.sent,!t.result){e.next=19;break}return e.prev=7,e.next=10,this.r.post("upsert_ucf",{id:this.caruse.id,kilometres2:this.caruse.kilometres2});case 10:r=e.sent,0==r.data.code?this.$alert("里程添加成功"):this.$alert("里程添加失败"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),this.$alert("里程添加失败");case 17:e.next=20;break;case 19:this.$alert("点击了取消");case 20:case"end":return e.stop()}},e,this,[[7,14]])}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){},watch:{userinfo:function(e){var t=this;this.r.post("getucfs_user",{useraccount:t.userinfo.account}).then(function(e){var r=e.data;0==r.code&&(t.caruse=r.msg),1==r.code&&t.$alert(r.msg)}).catch(function(e){})}}},v=l,d=(r("c5c8"),r("2877")),m=Object(d["a"])(v,s,a,!1,null,"74f53836",null);t["default"]=m.exports},"56ff":function(e,t,r){"use strict";var s=r("c194"),a=r.n(s);a.a},7422:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("mu-appbar",{staticClass:"header",attrs:{color:"red"}},[r("mu-button",{attrs:{slot:"left",icon:""},on:{click:e.goHome},slot:"left"},[r("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_left")])]),e._t("default")],2)],1)},a=[],c={name:"TaskHeader",methods:{goHome:function(){this.$router.push("home")}}},n=c,u=(r("56ff"),r("2877")),i=Object(u["a"])(n,s,a,!1,null,"19711852",null);t["a"]=i.exports},c194:function(e,t,r){},c5c8:function(e,t,r){"use strict";var s=r("e122"),a=r.n(s);a.a},e122:function(e,t,r){}}]);
//# sourceMappingURL=chunk-ffabbb52.74127e46.js.map